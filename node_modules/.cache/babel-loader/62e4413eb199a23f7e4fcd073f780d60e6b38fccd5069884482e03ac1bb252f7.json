{"ast":null,"code":"import { createElement, Fragment, PureComponent, Component } from 'react';\nimport classnames from 'classnames';\nimport debounce from 'lodash.debounce';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n\n/* istanbul ignore next */\n/* eslint-disable @typescript-eslint/explicit-function-return-type, @typescript-eslint/no-empty-function */\n/**\r\n * Default values\r\n */\nvar defaults = {\n  autoActivateFirstSuggest: false,\n  disabled: false,\n  fixtures: [],\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  getSuggestLabel: function (suggest) {\n    return suggest.description;\n  },\n  highlightMatch: true,\n  ignoreEnter: false,\n  ignoreTab: false,\n  initialValue: '',\n  maxFixtures: 10,\n  minLength: 1,\n  onKeyDown: function () {},\n  onKeyPress: function () {},\n  placeholder: 'Search places',\n  queryDelay: 250,\n  skipSuggest: function () {\n    return false;\n  },\n  style: {},\n  inputType: 'text'\n};\n\n/**\r\n * Attributes allowed on input elements\r\n */\nvar allowedAttributes = ['autoCapitalize', 'autoComplete', 'autoCorrect', 'autoFocus', 'disabled', 'form', 'formAction', 'formEncType', 'formMethod', 'formNoValidate', 'formTarget', 'height', 'inputMode', 'maxLength', 'name', 'onClick', 'onContextMenu', 'onCopy', 'onCut', 'onDoubleClick', 'onMouseDown', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onMouseOut', 'onMouseOver', 'onMouseUp', 'onPaste', 'pattern', 'placeholder', 'readOnly', 'required', 'size', 'spellCheck', 'tabIndex', 'title', 'aria-atomic', 'aria-busy', 'aria-controls', 'aria-current', 'aria-describedby', 'aria-details', 'aria-disabled', 'aria-dropeffect', 'aria-errormessage', 'aria-flowto', 'aria-grabbed', 'aria-haspopup', 'aria-hidden', 'aria-invalid', 'aria-keyshortcuts', 'aria-label', 'aria-labelledby', 'aria-live', 'aria-owns', 'aria-relevant', 'aria-roledescription', 'aria-activedescendant', 'aria-autocomplete', 'aria-multiline', 'aria-placeholder', 'aria-readonly', 'aria-required'];\n/**\r\n * Filter the properties for only allowed input properties\r\n */\nfunction filterInputAttributes(props) {\n  var attributes = {};\n  Object.keys(props).forEach(function (attribute) {\n    var isDataAttribute = attribute.startsWith('data-');\n    var isAllowedAttribute = allowedAttributes.includes(attribute);\n    if (isAllowedAttribute || isDataAttribute) {\n      attributes[attribute] = props[attribute];\n    }\n  });\n  return attributes;\n}\n\n/**\r\n * The input field\r\n */\nvar Input = /** @class */function (_super) {\n  __extends(Input, _super);\n  /**\r\n   * The constructor.\r\n   */\n  function Input(props) {\n    var _this = _super.call(this, props) || this;\n    /* eslint-enable @typescript-eslint/no-empty-function */\n    /**\r\n     * The reference to the input element\r\n     */\n    _this.input = null;\n    _this.onChange = _this.onChange.bind(_this);\n    _this.onInputKeyDown = _this.onInputKeyDown.bind(_this);\n    return _this;\n  }\n  /**\r\n   * When the input got changed\r\n   */\n  Input.prototype.onChange = function () {\n    if (this.input) {\n      this.props.onChange(this.input.value);\n    }\n  };\n  /**\r\n   * When a key gets pressed in the input\r\n   */\n  // eslint-disable-next-line complexity\n  Input.prototype.onInputKeyDown = function (event) {\n    // Call props.onKeyDown if defined\n    // Gives the developer a little bit more control if needed\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(event);\n    }\n    switch (event.which) {\n      case 40:\n        // DOWN\n        if (!event.shiftKey) {\n          event.preventDefault();\n          this.props.onNext();\n        }\n        break;\n      case 38:\n        // UP\n        if (!event.shiftKey) {\n          event.preventDefault();\n          this.props.onPrev();\n        }\n        break;\n      case 13:\n        // ENTER\n        if (this.props.doNotSubmitOnEnter) {\n          event.preventDefault();\n        }\n        if (!this.props.ignoreEnter) {\n          this.props.onSelect();\n        }\n        break;\n      case 9:\n        // TAB\n        if (!this.props.ignoreTab) {\n          this.props.onSelect();\n        }\n        break;\n      case 27:\n        // ESC\n        this.props.onEscape();\n        break;\n    }\n  };\n  /**\r\n   * Focus the input\r\n   */\n  Input.prototype.focus = function () {\n    if (this.input) {\n      this.input.focus();\n    }\n  };\n  /**\r\n   * Blur the input\r\n   */\n  Input.prototype.blur = function () {\n    if (this.input) {\n      this.input.blur();\n    }\n  };\n  /**\r\n   * Render the view\r\n   */\n  Input.prototype.render = function () {\n    var _this = this;\n    var attributes = filterInputAttributes(this.props);\n    var classes = classnames('geosuggest__input', this.props.className);\n    var shouldRenderLabel = this.props.label && this.props.id;\n    if (!attributes.tabIndex) {\n      attributes.tabIndex = 0;\n    }\n    return createElement(Fragment, null, shouldRenderLabel && createElement(\"label\", {\n      className: \"geosuggest__label\",\n      htmlFor: this.props.id\n    }, this.props.label), createElement(\"input\", __assign({\n      className: classes,\n      id: \"geosuggest__input\" + (this.props.id ? \"--\" + this.props.id : ''),\n      ref: function (i) {\n        return _this.input = i;\n      },\n      type: this.props.inputType\n    }, attributes, {\n      value: this.props.value,\n      style: this.props.style,\n      onKeyDown: this.onInputKeyDown,\n      onChange: this.onChange,\n      onKeyPress: this.props.onKeyPress,\n      onFocus: this.props.onFocus,\n      onBlur: this.props.onBlur,\n      role: \"combobox\",\n      \"aria-expanded\": !this.props.isSuggestsHidden,\n      \"aria-activedescendant\": this.props.activeSuggest ? this.props.activeSuggest.placeId :\n      // eslint-disable-next-line no-undefined\n      undefined,\n      \"aria-owns\": this.props.listId\n    })));\n  };\n  /* eslint-disable @typescript-eslint/no-empty-function */\n  /**\r\n   * Default values for the properties\r\n   */\n  Input.defaultProps = {\n    activeSuggest: null,\n    autoComplete: 'nope',\n    className: '',\n    isSuggestsHidden: true,\n    listId: '',\n    inputType: 'text',\n    onBlur: function () {},\n    onChange: function () {},\n    onEscape: function () {},\n    onFocus: function () {},\n    onKeyDown: function () {},\n    onKeyPress: function () {},\n    onNext: function () {},\n    onPrev: function () {},\n    onSelect: function () {},\n    value: ''\n  };\n  return Input;\n}(PureComponent);\n\n/**\r\n * A single Geosuggest item in the list\r\n */\nvar default_1 = /** @class */function (_super) {\n  __extends(default_1, _super);\n  /**\r\n   * The constructor.\r\n   */\n  function default_1(props) {\n    var _this = _super.call(this, props) || this;\n    /**\r\n     * The reference to the suggest element\r\n     */\n    _this.ref = null;\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n  /**\r\n   * Makes a text bold\r\n   */\n  default_1.prototype.makeBold = function (element, key) {\n    return createElement(\"b\", {\n      className: \"geosuggest__item__matched-text\",\n      key: key\n    }, element);\n  };\n  /**\r\n   * Replace matched text with the same in bold\r\n   */\n  default_1.prototype.formatMatchedText = function (userInput, suggest) {\n    if (!userInput || !suggest.matchedSubstrings) {\n      return suggest.label;\n    }\n    var start = suggest.matchedSubstrings.offset;\n    var length = suggest.matchedSubstrings.length;\n    var end = start + length;\n    var boldPart = this.makeBold(suggest.label.substring(start, end), suggest.label);\n    var pre = '';\n    var post = '';\n    if (start > 0) {\n      pre = suggest.label.slice(0, start);\n    }\n    if (end < suggest.label.length) {\n      post = suggest.label.slice(end);\n    }\n    return createElement(\"span\", null, pre, boldPart, post);\n  };\n  /**\r\n   * Checking if item just became active and scrolling if needed.\r\n   */\n  default_1.prototype.componentDidUpdate = function (prevProps) {\n    if (!prevProps.isActive && this.props.isActive) {\n      this.scrollIfNeeded();\n    }\n  };\n  /**\r\n   * Scrolling current item to the center of the list if item needs scrolling.\r\n   * Item is scrolled to the center of the list.\r\n   */\n  default_1.prototype.scrollIfNeeded = function () {\n    var element = this.ref;\n    var parent = element && element.parentElement;\n    if (!element || !parent) {\n      return;\n    }\n    var overTop = element.offsetTop - parent.offsetTop < parent.scrollTop;\n    var overBottom = element.offsetTop - parent.offsetTop + element.clientHeight > parent.scrollTop + parent.clientHeight;\n    if (overTop || overBottom) {\n      parent.scrollTop = element.offsetTop - parent.offsetTop - parent.clientHeight / 2 + element.clientHeight / 2;\n    }\n  };\n  /**\r\n   * When the suggest item got clicked\r\n   */\n  default_1.prototype.onClick = function (event) {\n    event.preventDefault();\n    this.props.onSelect(this.props.suggest);\n  };\n  /**\r\n   * Render the view\r\n   */\n  default_1.prototype.render = function () {\n    var _a;\n    var _this = this;\n    var suggest = this.props.suggest;\n    var classes = classnames('geosuggest__item', this.props.className, this.props.suggestItemClassName, {\n      'geosuggest__item--active': this.props.isActive\n    }, (_a = {}, _a[this.props.activeClassName || ''] = this.props.activeClassName ? this.props.isActive : null, _a));\n    var content = suggest.label;\n    if (this.props.renderSuggestItem) {\n      content = this.props.renderSuggestItem(suggest, this.props.userInput);\n    } else if (this.props.isHighlightMatch) {\n      content = this.formatMatchedText(this.props.userInput, suggest);\n    }\n    return createElement(\"li\", {\n      className: classes,\n      ref: function (li) {\n        return _this.ref = li;\n      },\n      style: this.props.style,\n      onMouseDown: this.props.onMouseDown,\n      onMouseOut: this.props.onMouseOut,\n      onClick: this.onClick,\n      role: \"option\",\n      \"aria-selected\": this.props.isActive,\n      id: suggest.placeId\n    }, content);\n  };\n  return default_1;\n}(PureComponent);\n\n/**\r\n * The list with suggestions.\r\n */\nvar default_1$1 = /** @class */function (_super) {\n  __extends(default_1$1, _super);\n  function default_1$1() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\r\n   * Whether or not it is hidden\r\n   */\n  default_1$1.prototype.isHidden = function () {\n    return this.props.isHidden || this.props.suggests.length === 0;\n  };\n  /**\r\n   * There are new properties available for the list\r\n   */\n  default_1$1.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.suggests !== this.props.suggests) {\n      if (this.props.suggests.length === 0) {\n        this.props.onSuggestNoResults();\n      }\n    }\n  };\n  /**\r\n   * Render the view\r\n   * @return {Function} The React element to render\r\n   */\n  default_1$1.prototype.render = function () {\n    var _a;\n    var _this = this;\n    var classes = classnames('geosuggest__suggests', this.props.suggestsClassName, {\n      'geosuggest__suggests--hidden': this.isHidden()\n    }, (_a = {}, _a[this.props.hiddenClassName || ''] = this.props.hiddenClassName ? this.isHidden() : null, _a));\n    return createElement(\"ul\", {\n      className: classes,\n      style: this.props.style,\n      role: \"listbox\",\n      id: this.props.listId\n    }, this.props.suggests.map(function (suggest) {\n      var isActive = _this.props.activeSuggest && suggest.placeId === _this.props.activeSuggest.placeId || false;\n      return createElement(default_1, {\n        key: suggest.placeId,\n        className: suggest.className || '',\n        userInput: _this.props.userInput,\n        isHighlightMatch: _this.props.isHighlightMatch,\n        suggest: suggest,\n        style: _this.props.suggestItemStyle,\n        suggestItemClassName: _this.props.suggestItemClassName,\n        isActive: isActive,\n        activeClassName: _this.props.suggestItemActiveClassName,\n        onMouseDown: _this.props.onSuggestMouseDown,\n        onMouseOut: _this.props.onSuggestMouseOut,\n        onSelect: _this.props.onSuggestSelect,\n        renderSuggestItem: _this.props.renderSuggestItem\n      });\n    }));\n  };\n  return default_1$1;\n}(PureComponent);\n\n/* global window */\n// Escapes special characters in user input for regex\nfunction escapeRegExp(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n/**\r\n * Entry point for the Geosuggest component\r\n */\nvar default_1$2 = /** @class */function (_super) {\n  __extends(default_1, _super);\n  /**\r\n   * The constructor. Sets the initial state.\r\n   */\n  // eslint-disable-next-line max-statements\n  function default_1(props) {\n    var _this = _super.call(this, props) || this;\n    /**\r\n     * The Google Map instance\r\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _this.googleMaps = null;\n    /**\r\n     * The autocomple service to get suggests\r\n     */\n    _this.autocompleteService = null;\n    /**\r\n     * The places service to get place details\r\n     */\n    _this.placesService = null;\n    /**\r\n     * The sessionToken service to use session based monetization\r\n     */\n    _this.sessionToken = undefined;\n    /**\r\n     * The geocoder to get geocoded results\r\n     */\n    _this.geocoder = null;\n    /**\r\n     * The input component\r\n     */\n    _this.input = null;\n    _this.state = {\n      activeSuggest: null,\n      ignoreBlur: false,\n      isLoading: false,\n      isSuggestsHidden: true,\n      suggests: [],\n      userInput: props.initialValue || ''\n    };\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    _this.onAfterInputChange = _this.onAfterInputChange.bind(_this);\n    _this.onInputFocus = _this.onInputFocus.bind(_this);\n    _this.onInputBlur = _this.onInputBlur.bind(_this);\n    _this.onNext = _this.onNext.bind(_this);\n    _this.onPrev = _this.onPrev.bind(_this);\n    _this.onSelect = _this.onSelect.bind(_this);\n    _this.onSuggestMouseDown = _this.onSuggestMouseDown.bind(_this);\n    _this.onSuggestMouseOut = _this.onSuggestMouseOut.bind(_this);\n    _this.onSuggestNoResults = _this.onSuggestNoResults.bind(_this);\n    _this.hideSuggests = _this.hideSuggests.bind(_this);\n    _this.selectSuggest = _this.selectSuggest.bind(_this);\n    _this.listId = \"geosuggest__list\" + (props.id ? \"--\" + props.id : '');\n    if (props.queryDelay) {\n      _this.onAfterInputChange = debounce(_this.onAfterInputChange, props.queryDelay);\n    }\n    return _this;\n  }\n  /**\r\n   * Change inputValue if prop changes\r\n   */\n  default_1.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.initialValue !== this.props.initialValue) {\n      this.setState({\n        userInput: this.props.initialValue || ''\n      });\n    }\n    if (JSON.stringify(prevProps.fixtures) !== JSON.stringify(this.props.fixtures)) {\n      this.searchSuggests();\n    }\n  };\n  /**\r\n   * Called on the client side after component is mounted.\r\n   * Google api sdk object will be obtained and cached as a instance property.\r\n   * Necessary objects of google api will also be determined and saved.\r\n   */\n  default_1.prototype.componentDidMount = function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n    var googleMaps = this.props.googleMaps ||\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    window.google && window.google.maps || this.googleMaps;\n    /* istanbul ignore next */\n    if (!googleMaps) {\n      if (console) {\n        // eslint-disable-next-line no-console\n        console.error('Google maps API was not found in the page.');\n      }\n      return;\n    }\n    this.googleMaps = googleMaps;\n    this.autocompleteService = new googleMaps.places.AutocompleteService();\n    this.placesService = new googleMaps.places.PlacesService(document.createElement('div'));\n    this.sessionToken = new googleMaps.places.AutocompleteSessionToken();\n    this.geocoder = new googleMaps.Geocoder();\n  };\n  /**\r\n   * When the component will unmount\r\n   */\n  default_1.prototype.componentWillUnmount = function () {\n    clearTimeout(this.timer);\n  };\n  /**\r\n   * When the input changed\r\n   */\n  default_1.prototype.onInputChange = function (userInput) {\n    if (!userInput) {\n      if (this.props.onSuggestSelect) {\n        this.props.onSuggestSelect();\n      }\n    }\n    this.setState({\n      userInput: userInput\n    }, this.onAfterInputChange);\n  };\n  /**\r\n   * On After the input got changed\r\n   */\n  default_1.prototype.onAfterInputChange = function () {\n    this.showSuggests();\n    if (this.props.onChange) {\n      this.props.onChange(this.state.userInput);\n    }\n  };\n  /**\r\n   * When the input gets focused\r\n   */\n  default_1.prototype.onInputFocus = function () {\n    if (this.props.onFocus) {\n      this.props.onFocus();\n    }\n    this.showSuggests();\n  };\n  /**\r\n   * When the input gets blurred\r\n   */\n  default_1.prototype.onInputBlur = function () {\n    if (!this.state.ignoreBlur) {\n      this.hideSuggests();\n    }\n  };\n  default_1.prototype.onNext = function () {\n    this.activateSuggest('next');\n  };\n  default_1.prototype.onPrev = function () {\n    this.activateSuggest('prev');\n  };\n  default_1.prototype.onSelect = function () {\n    this.selectSuggest(this.state.activeSuggest);\n  };\n  default_1.prototype.onSuggestMouseDown = function () {\n    this.setState({\n      ignoreBlur: true\n    });\n  };\n  default_1.prototype.onSuggestMouseOut = function () {\n    this.setState({\n      ignoreBlur: false\n    });\n  };\n  default_1.prototype.onSuggestNoResults = function () {\n    if (this.props.onSuggestNoResults) {\n      this.props.onSuggestNoResults(this.state.userInput);\n    }\n  };\n  /**\r\n   * Focus the input\r\n   */\n  default_1.prototype.focus = function () {\n    if (this.input) {\n      this.input.focus();\n    }\n  };\n  /**\r\n   * Blur the input\r\n   */\n  default_1.prototype.blur = function () {\n    if (this.input) {\n      this.input.blur();\n    }\n  };\n  /**\r\n   * Update the value of the user input\r\n   */\n  default_1.prototype.update = function (userInput) {\n    this.setState({\n      userInput: userInput\n    });\n    if (this.props.onChange) {\n      this.props.onChange(userInput);\n    }\n  };\n  /*\r\n   * Clear the input and close the suggestion pane\r\n   */\n  default_1.prototype.clear = function () {\n    this.setState({\n      userInput: ''\n    }, this.hideSuggests);\n  };\n  /**\r\n   * Search for new suggests\r\n   */\n  // eslint-disable-next-line complexity, max-statements\n  default_1.prototype.searchSuggests = function () {\n    var _this = this;\n    if (!this.state.userInput) {\n      this.updateSuggests();\n      return;\n    }\n    var options = {\n      input: this.state.userInput,\n      sessionToken: this.sessionToken\n    };\n    var inputLength = this.state.userInput.length;\n    var isShorterThanMinLength = this.props.minLength && inputLength < this.props.minLength;\n    if (isShorterThanMinLength) {\n      this.updateSuggests();\n      return;\n    }\n    var _a = this.props,\n      location = _a.location,\n      radius = _a.radius,\n      bounds = _a.bounds,\n      types = _a.types,\n      country = _a.country;\n    /* eslint-disable curly */\n    if (location) options.location = location;\n    if (radius) options.radius = Number(this.props.radius);\n    if (bounds) options.bounds = bounds;\n    if (types) options.types = types;\n    if (country) options.componentRestrictions = {\n      country: country\n    };\n    /* eslint-enable curly */\n    this.setState({\n      isLoading: true\n    }, function () {\n      if (!_this.autocompleteService) {\n        _this.setState({\n          isLoading: false\n        });\n        return;\n      }\n      _this.autocompleteService.getPlacePredictions(options, function (suggestsGoogle) {\n        _this.setState({\n          isLoading: false\n        });\n        _this.updateSuggests(suggestsGoogle || [],\n        // can be null\n        function () {\n          if (_this.props.autoActivateFirstSuggest && !_this.state.activeSuggest) {\n            _this.activateSuggest('next');\n          }\n        });\n      });\n    });\n  };\n  /**\r\n   * Update the suggests\r\n   */\n  default_1.prototype.updateSuggests = function (suggestsGoogle,\n  // eslint-disable-next-line @typescript-eslint/explicit-function-return-type, @typescript-eslint/no-empty-function\n  callback) {\n    var _this = this;\n    if (suggestsGoogle === void 0) {\n      suggestsGoogle = [];\n    }\n    if (callback === void 0) {\n      callback = function () {};\n    }\n    var suggests = [];\n    var userInput = this.state.userInput;\n    var _a = this.props,\n      skipSuggest = _a.skipSuggest,\n      maxFixtures = _a.maxFixtures,\n      fixtures = _a.fixtures;\n    var regex = new RegExp(escapeRegExp(userInput), 'gim');\n    var fixturesSearched = 0;\n    var activeSuggest = null;\n    if (fixtures) {\n      fixtures.forEach(function (fixture) {\n        if (maxFixtures && fixturesSearched >= maxFixtures) {\n          return;\n        }\n        if (skipSuggest && !skipSuggest(fixture) && fixture.label.match(regex)) {\n          fixturesSearched++;\n          suggests.push(__assign(__assign({}, fixture), {\n            isFixture: true,\n            matchedSubstrings: {\n              length: userInput.length,\n              offset: fixture.label.indexOf(userInput)\n            },\n            placeId: fixture.placeId || fixture.label\n          }));\n        }\n      });\n    }\n    suggestsGoogle.forEach(function (suggest) {\n      if (skipSuggest && !skipSuggest(suggest)) {\n        suggests.push({\n          description: suggest.description,\n          isFixture: false,\n          label: _this.props.getSuggestLabel ? _this.props.getSuggestLabel(suggest) : '',\n          matchedSubstrings: suggest.matched_substrings[0],\n          placeId: suggest.place_id\n        });\n      }\n    });\n    activeSuggest = this.updateActiveSuggest(suggests);\n    if (this.props.onUpdateSuggests) {\n      this.props.onUpdateSuggests(suggests, activeSuggest);\n    }\n    this.setState({\n      suggests: suggests,\n      activeSuggest: activeSuggest\n    }, callback);\n  };\n  /**\r\n   * Return the new activeSuggest object after suggests have been updated\r\n   */\n  default_1.prototype.updateActiveSuggest = function (suggests) {\n    if (suggests === void 0) {\n      suggests = [];\n    }\n    var activeSuggest = this.state.activeSuggest;\n    if (activeSuggest) {\n      var newSuggest = suggests.filter(function (listedSuggest) {\n        return activeSuggest && activeSuggest.placeId === listedSuggest.placeId && activeSuggest.isFixture === listedSuggest.isFixture;\n      })[0];\n      activeSuggest = newSuggest || null;\n    }\n    return activeSuggest;\n  };\n  /**\r\n   * Show the suggestions\r\n   */\n  default_1.prototype.showSuggests = function () {\n    this.searchSuggests();\n    this.setState({\n      isSuggestsHidden: false\n    });\n  };\n  /**\r\n   * Hide the suggestions\r\n   */\n  default_1.prototype.hideSuggests = function () {\n    var _this = this;\n    if (this.props.onBlur) {\n      this.props.onBlur(this.state.userInput);\n    }\n    this.timer = window.setTimeout(function () {\n      _this.setState({\n        activeSuggest: null,\n        isSuggestsHidden: true\n      });\n    }, 100);\n  };\n  /**\r\n   * Activate a new suggest\r\n   */\n  // eslint-disable-next-line complexity, max-statements\n  default_1.prototype.activateSuggest = function (direction) {\n    if (this.state.isSuggestsHidden) {\n      this.showSuggests();\n      return;\n    }\n    var suggestsCount = this.state.suggests.length - 1;\n    var next = direction === 'next';\n    var newActiveSuggest = null;\n    var newIndex = 0;\n    var i = 0;\n    for (i; i <= suggestsCount; i++) {\n      if (this.state.suggests[i] === this.state.activeSuggest) {\n        newIndex = next ? i + 1 : i - 1;\n      }\n    }\n    if (!this.state.activeSuggest) {\n      newIndex = next ? 0 : suggestsCount;\n    }\n    if (newIndex >= 0 && newIndex <= suggestsCount) {\n      newActiveSuggest = this.state.suggests[newIndex];\n    }\n    if (this.props.onActivateSuggest) {\n      this.props.onActivateSuggest(newActiveSuggest);\n    }\n    this.setState({\n      activeSuggest: newActiveSuggest\n    });\n  };\n  /**\r\n   * When an item got selected\r\n   */\n  // eslint-disable-next-line complexity\n  default_1.prototype.selectSuggest = function (suggestToSelect) {\n    var suggest = suggestToSelect || {\n      isFixture: true,\n      label: this.state.userInput,\n      placeId: this.state.userInput\n    };\n    if (!suggestToSelect && this.props.autoActivateFirstSuggest && this.state.suggests.length > 0) {\n      suggest = this.state.suggests[0];\n    }\n    this.setState({\n      isSuggestsHidden: true,\n      userInput: typeof suggest.label !== 'object' ? suggest.label : suggest.description || ''\n    });\n    if (suggest.location) {\n      this.setState({\n        ignoreBlur: false\n      });\n      if (this.props.onSuggestSelect) {\n        this.props.onSuggestSelect(suggest);\n      }\n      return;\n    }\n    this.geocodeSuggest(suggest);\n  };\n  /**\r\n   * Geocode a suggest\r\n   */\n  default_1.prototype.geocodeSuggest = function (suggestToGeocode) {\n    var _this = this;\n    if (!this.geocoder) {\n      return;\n    }\n    if (suggestToGeocode.placeId && !suggestToGeocode.isFixture && this.placesService) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var options = {\n        placeId: suggestToGeocode.placeId,\n        sessionToken: this.sessionToken\n      };\n      if (this.props.placeDetailFields) {\n        options.fields = this.props.placeDetailFields;\n        options.fields.unshift('geometry');\n      }\n      this.placesService.getDetails(options, function (results, status) {\n        if (status === _this.googleMaps.places.PlacesServiceStatus.OK) {\n          var gmaps = results;\n          var location_1 = gmaps.geometry && gmaps.geometry.location;\n          var suggest = __assign(__assign({}, suggestToGeocode), {\n            gmaps: gmaps,\n            location: {\n              lat: location_1.lat(),\n              lng: location_1.lng()\n            }\n          });\n          _this.sessionToken = new google.maps.places.AutocompleteSessionToken();\n          if (_this.props.onSuggestSelect) {\n            _this.props.onSuggestSelect(suggest);\n          }\n        }\n      });\n    } else {\n      var options = {\n        address: suggestToGeocode.label,\n        bounds: this.props.bounds,\n        componentRestrictions: this.props.country ? {\n          country: this.props.country\n        } :\n        // eslint-disable-next-line no-undefined\n        undefined,\n        location: this.props.location\n      };\n      this.geocoder.geocode(options, function (results, status) {\n        if (status === _this.googleMaps.GeocoderStatus.OK) {\n          var gmaps = results[0];\n          var location_2 = gmaps.geometry && gmaps.geometry.location;\n          var suggest = __assign(__assign({}, suggestToGeocode), {\n            gmaps: gmaps,\n            location: {\n              lat: location_2.lat(),\n              lng: location_2.lng()\n            }\n          });\n          if (_this.props.onSuggestSelect) {\n            _this.props.onSuggestSelect(suggest);\n          }\n        }\n      });\n    }\n  };\n  /**\r\n   * Render the view\r\n   */\n  default_1.prototype.render = function () {\n    var _this = this;\n    var attributes = filterInputAttributes(this.props);\n    var classes = classnames('geosuggest', this.props.className, {\n      'geosuggest--loading': this.state.isLoading\n    });\n    var input = createElement(Input, __assign({\n      className: this.props.inputClassName,\n      ref: function (i) {\n        return _this.input = i;\n      },\n      value: this.state.userInput,\n      doNotSubmitOnEnter: !this.state.isSuggestsHidden,\n      ignoreTab: this.props.ignoreTab,\n      ignoreEnter: this.props.ignoreEnter,\n      style: this.props.style && this.props.style.input,\n      onChange: this.onInputChange,\n      onFocus: this.onInputFocus,\n      onBlur: this.onInputBlur,\n      onKeyDown: this.props.onKeyDown,\n      onKeyPress: this.props.onKeyPress,\n      inputType: this.props.inputType,\n      onNext: this.onNext,\n      onPrev: this.onPrev,\n      onSelect: this.onSelect,\n      onEscape: this.hideSuggests,\n      isSuggestsHidden: this.state.isSuggestsHidden,\n      activeSuggest: this.state.activeSuggest,\n      label: this.props.label,\n      id: this.props.id,\n      listId: this.listId\n    }, attributes));\n    var suggestionsList = createElement(default_1$1, {\n      isHidden: this.state.isSuggestsHidden,\n      style: this.props.style && this.props.style.suggests,\n      suggestItemStyle: this.props.style && this.props.style.suggestItem,\n      userInput: this.state.userInput,\n      isHighlightMatch: Boolean(this.props.highlightMatch),\n      suggestsClassName: this.props.suggestsClassName,\n      suggestItemClassName: this.props.suggestItemClassName,\n      suggests: this.state.suggests,\n      hiddenClassName: this.props.suggestsHiddenClassName,\n      suggestItemActiveClassName: this.props.suggestItemActiveClassName,\n      activeSuggest: this.state.activeSuggest,\n      onSuggestNoResults: this.onSuggestNoResults,\n      onSuggestMouseDown: this.onSuggestMouseDown,\n      onSuggestMouseOut: this.onSuggestMouseOut,\n      onSuggestSelect: this.selectSuggest,\n      renderSuggestItem: this.props.renderSuggestItem,\n      listId: this.listId\n    });\n    return createElement(\"div\", {\n      className: classes,\n      id: this.props.id\n    }, createElement(\"div\", {\n      className: \"geosuggest__input-wrapper\"\n    }, input), createElement(\"div\", {\n      className: \"geosuggest__suggests-wrapper\"\n    }, suggestionsList));\n  };\n  /**\r\n   * Default values for the properties\r\n   */\n  default_1.defaultProps = defaults;\n  return default_1;\n}(Component);\nexport default default_1$2;","map":{"version":3,"names":["createElement","Fragment","PureComponent","Component","classnames","debounce","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","defaults","autoActivateFirstSuggest","disabled","fixtures","getSuggestLabel","suggest","description","highlightMatch","ignoreEnter","ignoreTab","initialValue","maxFixtures","minLength","onKeyDown","onKeyPress","placeholder","queryDelay","skipSuggest","style","inputType","allowedAttributes","filterInputAttributes","props","attributes","keys","forEach","attribute","isDataAttribute","startsWith","isAllowedAttribute","includes","Input","_super","_this","input","onChange","bind","onInputKeyDown","value","event","which","shiftKey","preventDefault","onNext","onPrev","doNotSubmitOnEnter","onSelect","onEscape","focus","blur","render","classes","className","shouldRenderLabel","label","id","tabIndex","htmlFor","ref","type","onFocus","onBlur","role","isSuggestsHidden","activeSuggest","placeId","undefined","listId","defaultProps","autoComplete","default_1","onClick","makeBold","element","key","formatMatchedText","userInput","matchedSubstrings","start","offset","end","boldPart","substring","pre","post","slice","componentDidUpdate","prevProps","isActive","scrollIfNeeded","parent","parentElement","overTop","offsetTop","scrollTop","overBottom","clientHeight","_a","suggestItemClassName","activeClassName","content","renderSuggestItem","isHighlightMatch","li","onMouseDown","onMouseOut","default_1$1","isHidden","suggests","onSuggestNoResults","suggestsClassName","hiddenClassName","map","suggestItemStyle","suggestItemActiveClassName","onSuggestMouseDown","onSuggestMouseOut","onSuggestSelect","escapeRegExp","str","replace","default_1$2","googleMaps","autocompleteService","placesService","sessionToken","geocoder","state","ignoreBlur","isLoading","onInputChange","onAfterInputChange","onInputFocus","onInputBlur","hideSuggests","selectSuggest","setState","JSON","stringify","searchSuggests","componentDidMount","window","google","maps","console","error","places","AutocompleteService","PlacesService","document","AutocompleteSessionToken","Geocoder","componentWillUnmount","clearTimeout","timer","showSuggests","activateSuggest","update","clear","updateSuggests","options","inputLength","isShorterThanMinLength","location","radius","bounds","types","country","Number","componentRestrictions","getPlacePredictions","suggestsGoogle","callback","regex","RegExp","fixturesSearched","fixture","match","push","isFixture","indexOf","matched_substrings","place_id","updateActiveSuggest","onUpdateSuggests","newSuggest","filter","listedSuggest","setTimeout","direction","suggestsCount","next","newActiveSuggest","newIndex","onActivateSuggest","suggestToSelect","geocodeSuggest","suggestToGeocode","placeDetailFields","fields","unshift","getDetails","results","status","PlacesServiceStatus","OK","gmaps","location_1","geometry","lat","lng","address","geocode","GeocoderStatus","location_2","inputClassName","suggestionsList","suggestItem","Boolean","suggestsHiddenClassName"],"sources":["D:/Dronage-master/node_modules/react-geosuggest/module/Geosuggest.esm.js"],"sourcesContent":["import { createElement, Fragment, PureComponent, Component } from 'react';\nimport classnames from 'classnames';\nimport debounce from 'lodash.debounce';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\n/* istanbul ignore next */\r\n/* eslint-disable @typescript-eslint/explicit-function-return-type, @typescript-eslint/no-empty-function */\r\n/**\r\n * Default values\r\n */\r\nvar defaults = {\r\n    autoActivateFirstSuggest: false,\r\n    disabled: false,\r\n    fixtures: [],\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    getSuggestLabel: function (suggest) { return suggest.description; },\r\n    highlightMatch: true,\r\n    ignoreEnter: false,\r\n    ignoreTab: false,\r\n    initialValue: '',\r\n    maxFixtures: 10,\r\n    minLength: 1,\r\n    onKeyDown: function () { },\r\n    onKeyPress: function () { },\r\n    placeholder: 'Search places',\r\n    queryDelay: 250,\r\n    skipSuggest: function () { return false; },\r\n    style: {},\r\n    inputType: 'text'\r\n};\n\n/**\r\n * Attributes allowed on input elements\r\n */\r\nvar allowedAttributes = [\r\n    'autoCapitalize',\r\n    'autoComplete',\r\n    'autoCorrect',\r\n    'autoFocus',\r\n    'disabled',\r\n    'form',\r\n    'formAction',\r\n    'formEncType',\r\n    'formMethod',\r\n    'formNoValidate',\r\n    'formTarget',\r\n    'height',\r\n    'inputMode',\r\n    'maxLength',\r\n    'name',\r\n    'onClick',\r\n    'onContextMenu',\r\n    'onCopy',\r\n    'onCut',\r\n    'onDoubleClick',\r\n    'onMouseDown',\r\n    'onMouseEnter',\r\n    'onMouseLeave',\r\n    'onMouseMove',\r\n    'onMouseOut',\r\n    'onMouseOver',\r\n    'onMouseUp',\r\n    'onPaste',\r\n    'pattern',\r\n    'placeholder',\r\n    'readOnly',\r\n    'required',\r\n    'size',\r\n    'spellCheck',\r\n    'tabIndex',\r\n    'title',\r\n    'aria-atomic',\r\n    'aria-busy',\r\n    'aria-controls',\r\n    'aria-current',\r\n    'aria-describedby',\r\n    'aria-details',\r\n    'aria-disabled',\r\n    'aria-dropeffect',\r\n    'aria-errormessage',\r\n    'aria-flowto',\r\n    'aria-grabbed',\r\n    'aria-haspopup',\r\n    'aria-hidden',\r\n    'aria-invalid',\r\n    'aria-keyshortcuts',\r\n    'aria-label',\r\n    'aria-labelledby',\r\n    'aria-live',\r\n    'aria-owns',\r\n    'aria-relevant',\r\n    'aria-roledescription',\r\n    'aria-activedescendant',\r\n    'aria-autocomplete',\r\n    'aria-multiline',\r\n    'aria-placeholder',\r\n    'aria-readonly',\r\n    'aria-required'\r\n];\r\n/**\r\n * Filter the properties for only allowed input properties\r\n */\r\nfunction filterInputAttributes (props) {\r\n    var attributes = {};\r\n    Object.keys(props).forEach(function (attribute) {\r\n        var isDataAttribute = attribute.startsWith('data-');\r\n        var isAllowedAttribute = allowedAttributes.includes(attribute);\r\n        if (isAllowedAttribute || isDataAttribute) {\r\n            attributes[attribute] = props[attribute];\r\n        }\r\n    });\r\n    return attributes;\r\n}\n\n/**\r\n * The input field\r\n */\r\nvar Input = /** @class */ (function (_super) {\r\n    __extends(Input, _super);\r\n    /**\r\n     * The constructor.\r\n     */\r\n    function Input(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        /* eslint-enable @typescript-eslint/no-empty-function */\r\n        /**\r\n         * The reference to the input element\r\n         */\r\n        _this.input = null;\r\n        _this.onChange = _this.onChange.bind(_this);\r\n        _this.onInputKeyDown = _this.onInputKeyDown.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * When the input got changed\r\n     */\r\n    Input.prototype.onChange = function () {\r\n        if (this.input) {\r\n            this.props.onChange(this.input.value);\r\n        }\r\n    };\r\n    /**\r\n     * When a key gets pressed in the input\r\n     */\r\n    // eslint-disable-next-line complexity\r\n    Input.prototype.onInputKeyDown = function (event) {\r\n        // Call props.onKeyDown if defined\r\n        // Gives the developer a little bit more control if needed\r\n        if (this.props.onKeyDown) {\r\n            this.props.onKeyDown(event);\r\n        }\r\n        switch (event.which) {\r\n            case 40: // DOWN\r\n                if (!event.shiftKey) {\r\n                    event.preventDefault();\r\n                    this.props.onNext();\r\n                }\r\n                break;\r\n            case 38: // UP\r\n                if (!event.shiftKey) {\r\n                    event.preventDefault();\r\n                    this.props.onPrev();\r\n                }\r\n                break;\r\n            case 13: // ENTER\r\n                if (this.props.doNotSubmitOnEnter) {\r\n                    event.preventDefault();\r\n                }\r\n                if (!this.props.ignoreEnter) {\r\n                    this.props.onSelect();\r\n                }\r\n                break;\r\n            case 9: // TAB\r\n                if (!this.props.ignoreTab) {\r\n                    this.props.onSelect();\r\n                }\r\n                break;\r\n            case 27: // ESC\r\n                this.props.onEscape();\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Focus the input\r\n     */\r\n    Input.prototype.focus = function () {\r\n        if (this.input) {\r\n            this.input.focus();\r\n        }\r\n    };\r\n    /**\r\n     * Blur the input\r\n     */\r\n    Input.prototype.blur = function () {\r\n        if (this.input) {\r\n            this.input.blur();\r\n        }\r\n    };\r\n    /**\r\n     * Render the view\r\n     */\r\n    Input.prototype.render = function () {\r\n        var _this = this;\r\n        var attributes = filterInputAttributes(this.props);\r\n        var classes = classnames('geosuggest__input', this.props.className);\r\n        var shouldRenderLabel = this.props.label && this.props.id;\r\n        if (!attributes.tabIndex) {\r\n            attributes.tabIndex = 0;\r\n        }\r\n        return (createElement(Fragment, null,\r\n            shouldRenderLabel && (createElement(\"label\", { className: \"geosuggest__label\", htmlFor: this.props.id }, this.props.label)),\r\n            createElement(\"input\", __assign({ className: classes, id: \"geosuggest__input\" + (this.props.id ? \"--\" + this.props.id : ''), ref: function (i) { return (_this.input = i); }, type: this.props.inputType }, attributes, { value: this.props.value, style: this.props.style, onKeyDown: this.onInputKeyDown, onChange: this.onChange, onKeyPress: this.props.onKeyPress, onFocus: this.props.onFocus, onBlur: this.props.onBlur, role: \"combobox\", \"aria-expanded\": !this.props.isSuggestsHidden, \"aria-activedescendant\": this.props.activeSuggest\r\n                    ? this.props.activeSuggest.placeId\r\n                    : // eslint-disable-next-line no-undefined\r\n                        undefined, \"aria-owns\": this.props.listId }))));\r\n    };\r\n    /* eslint-disable @typescript-eslint/no-empty-function */\r\n    /**\r\n     * Default values for the properties\r\n     */\r\n    Input.defaultProps = {\r\n        activeSuggest: null,\r\n        autoComplete: 'nope',\r\n        className: '',\r\n        isSuggestsHidden: true,\r\n        listId: '',\r\n        inputType: 'text',\r\n        onBlur: function () { },\r\n        onChange: function () { },\r\n        onEscape: function () { },\r\n        onFocus: function () { },\r\n        onKeyDown: function () { },\r\n        onKeyPress: function () { },\r\n        onNext: function () { },\r\n        onPrev: function () { },\r\n        onSelect: function () { },\r\n        value: ''\r\n    };\r\n    return Input;\r\n}(PureComponent));\n\n/**\r\n * A single Geosuggest item in the list\r\n */\r\nvar default_1 = /** @class */ (function (_super) {\r\n    __extends(default_1, _super);\r\n    /**\r\n     * The constructor.\r\n     */\r\n    function default_1(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        /**\r\n         * The reference to the suggest element\r\n         */\r\n        _this.ref = null;\r\n        _this.onClick = _this.onClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Makes a text bold\r\n     */\r\n    default_1.prototype.makeBold = function (element, key) {\r\n        return (createElement(\"b\", { className: \"geosuggest__item__matched-text\", key: key }, element));\r\n    };\r\n    /**\r\n     * Replace matched text with the same in bold\r\n     */\r\n    default_1.prototype.formatMatchedText = function (userInput, suggest) {\r\n        if (!userInput || !suggest.matchedSubstrings) {\r\n            return suggest.label;\r\n        }\r\n        var start = suggest.matchedSubstrings.offset;\r\n        var length = suggest.matchedSubstrings.length;\r\n        var end = start + length;\r\n        var boldPart = this.makeBold(suggest.label.substring(start, end), suggest.label);\r\n        var pre = '';\r\n        var post = '';\r\n        if (start > 0) {\r\n            pre = suggest.label.slice(0, start);\r\n        }\r\n        if (end < suggest.label.length) {\r\n            post = suggest.label.slice(end);\r\n        }\r\n        return (createElement(\"span\", null,\r\n            pre,\r\n            boldPart,\r\n            post));\r\n    };\r\n    /**\r\n     * Checking if item just became active and scrolling if needed.\r\n     */\r\n    default_1.prototype.componentDidUpdate = function (prevProps) {\r\n        if (!prevProps.isActive && this.props.isActive) {\r\n            this.scrollIfNeeded();\r\n        }\r\n    };\r\n    /**\r\n     * Scrolling current item to the center of the list if item needs scrolling.\r\n     * Item is scrolled to the center of the list.\r\n     */\r\n    default_1.prototype.scrollIfNeeded = function () {\r\n        var element = this.ref;\r\n        var parent = element && element.parentElement;\r\n        if (!element || !parent) {\r\n            return;\r\n        }\r\n        var overTop = element.offsetTop - parent.offsetTop < parent.scrollTop;\r\n        var overBottom = element.offsetTop - parent.offsetTop + element.clientHeight >\r\n            parent.scrollTop + parent.clientHeight;\r\n        if (overTop || overBottom) {\r\n            parent.scrollTop =\r\n                element.offsetTop -\r\n                    parent.offsetTop -\r\n                    parent.clientHeight / 2 +\r\n                    element.clientHeight / 2;\r\n        }\r\n    };\r\n    /**\r\n     * When the suggest item got clicked\r\n     */\r\n    default_1.prototype.onClick = function (event) {\r\n        event.preventDefault();\r\n        this.props.onSelect(this.props.suggest);\r\n    };\r\n    /**\r\n     * Render the view\r\n     */\r\n    default_1.prototype.render = function () {\r\n        var _a;\r\n        var _this = this;\r\n        var suggest = this.props.suggest;\r\n        var classes = classnames('geosuggest__item', this.props.className, this.props.suggestItemClassName, { 'geosuggest__item--active': this.props.isActive }, (_a = {},\r\n            _a[this.props.activeClassName || ''] = this.props.activeClassName\r\n                ? this.props.isActive\r\n                : null,\r\n            _a));\r\n        var content = suggest.label;\r\n        if (this.props.renderSuggestItem) {\r\n            content = this.props.renderSuggestItem(suggest, this.props.userInput);\r\n        }\r\n        else if (this.props.isHighlightMatch) {\r\n            content = this.formatMatchedText(this.props.userInput, suggest);\r\n        }\r\n        return (createElement(\"li\", { className: classes, ref: function (li) { return (_this.ref = li); }, style: this.props.style, onMouseDown: this.props.onMouseDown, onMouseOut: this.props.onMouseOut, onClick: this.onClick, role: \"option\", \"aria-selected\": this.props.isActive, id: suggest.placeId }, content));\r\n    };\r\n    return default_1;\r\n}(PureComponent));\n\n/**\r\n * The list with suggestions.\r\n */\r\nvar default_1$1 = /** @class */ (function (_super) {\r\n    __extends(default_1$1, _super);\r\n    function default_1$1() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Whether or not it is hidden\r\n     */\r\n    default_1$1.prototype.isHidden = function () {\r\n        return this.props.isHidden || this.props.suggests.length === 0;\r\n    };\r\n    /**\r\n     * There are new properties available for the list\r\n     */\r\n    default_1$1.prototype.componentDidUpdate = function (prevProps) {\r\n        if (prevProps.suggests !== this.props.suggests) {\r\n            if (this.props.suggests.length === 0) {\r\n                this.props.onSuggestNoResults();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Render the view\r\n     * @return {Function} The React element to render\r\n     */\r\n    default_1$1.prototype.render = function () {\r\n        var _a;\r\n        var _this = this;\r\n        var classes = classnames('geosuggest__suggests', this.props.suggestsClassName, { 'geosuggest__suggests--hidden': this.isHidden() }, (_a = {},\r\n            _a[this.props.hiddenClassName || ''] = this.props.hiddenClassName\r\n                ? this.isHidden()\r\n                : null,\r\n            _a));\r\n        return (createElement(\"ul\", { className: classes, style: this.props.style, role: \"listbox\", id: this.props.listId }, this.props.suggests.map(function (suggest) {\r\n            var isActive = (_this.props.activeSuggest &&\r\n                suggest.placeId === _this.props.activeSuggest.placeId) ||\r\n                false;\r\n            return (createElement(default_1, { key: suggest.placeId, className: suggest.className || '', userInput: _this.props.userInput, isHighlightMatch: _this.props.isHighlightMatch, suggest: suggest, style: _this.props.suggestItemStyle, suggestItemClassName: _this.props.suggestItemClassName, isActive: isActive, activeClassName: _this.props.suggestItemActiveClassName, onMouseDown: _this.props.onSuggestMouseDown, onMouseOut: _this.props.onSuggestMouseOut, onSelect: _this.props.onSuggestSelect, renderSuggestItem: _this.props.renderSuggestItem }));\r\n        })));\r\n    };\r\n    return default_1$1;\r\n}(PureComponent));\n\n/* global window */\r\n// Escapes special characters in user input for regex\r\nfunction escapeRegExp(str) {\r\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\r\n}\r\n/**\r\n * Entry point for the Geosuggest component\r\n */\r\nvar default_1$2 = /** @class */ (function (_super) {\r\n    __extends(default_1, _super);\r\n    /**\r\n     * The constructor. Sets the initial state.\r\n     */\r\n    // eslint-disable-next-line max-statements\r\n    function default_1(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        /**\r\n         * The Google Map instance\r\n         */\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        _this.googleMaps = null;\r\n        /**\r\n         * The autocomple service to get suggests\r\n         */\r\n        _this.autocompleteService = null;\r\n        /**\r\n         * The places service to get place details\r\n         */\r\n        _this.placesService = null;\r\n        /**\r\n         * The sessionToken service to use session based monetization\r\n         */\r\n        _this.sessionToken = undefined;\r\n        /**\r\n         * The geocoder to get geocoded results\r\n         */\r\n        _this.geocoder = null;\r\n        /**\r\n         * The input component\r\n         */\r\n        _this.input = null;\r\n        _this.state = {\r\n            activeSuggest: null,\r\n            ignoreBlur: false,\r\n            isLoading: false,\r\n            isSuggestsHidden: true,\r\n            suggests: [],\r\n            userInput: props.initialValue || ''\r\n        };\r\n        _this.onInputChange = _this.onInputChange.bind(_this);\r\n        _this.onAfterInputChange = _this.onAfterInputChange.bind(_this);\r\n        _this.onInputFocus = _this.onInputFocus.bind(_this);\r\n        _this.onInputBlur = _this.onInputBlur.bind(_this);\r\n        _this.onNext = _this.onNext.bind(_this);\r\n        _this.onPrev = _this.onPrev.bind(_this);\r\n        _this.onSelect = _this.onSelect.bind(_this);\r\n        _this.onSuggestMouseDown = _this.onSuggestMouseDown.bind(_this);\r\n        _this.onSuggestMouseOut = _this.onSuggestMouseOut.bind(_this);\r\n        _this.onSuggestNoResults = _this.onSuggestNoResults.bind(_this);\r\n        _this.hideSuggests = _this.hideSuggests.bind(_this);\r\n        _this.selectSuggest = _this.selectSuggest.bind(_this);\r\n        _this.listId = \"geosuggest__list\" + (props.id ? \"--\" + props.id : '');\r\n        if (props.queryDelay) {\r\n            _this.onAfterInputChange = debounce(_this.onAfterInputChange, props.queryDelay);\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Change inputValue if prop changes\r\n     */\r\n    default_1.prototype.componentDidUpdate = function (prevProps) {\r\n        if (prevProps.initialValue !== this.props.initialValue) {\r\n            this.setState({ userInput: this.props.initialValue || '' });\r\n        }\r\n        if (JSON.stringify(prevProps.fixtures) !== JSON.stringify(this.props.fixtures)) {\r\n            this.searchSuggests();\r\n        }\r\n    };\r\n    /**\r\n     * Called on the client side after component is mounted.\r\n     * Google api sdk object will be obtained and cached as a instance property.\r\n     * Necessary objects of google api will also be determined and saved.\r\n     */\r\n    default_1.prototype.componentDidMount = function () {\r\n        if (typeof window === 'undefined') {\r\n            return;\r\n        }\r\n        var googleMaps = this.props.googleMaps ||\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            (window.google && window.google.maps) ||\r\n            this.googleMaps;\r\n        /* istanbul ignore next */\r\n        if (!googleMaps) {\r\n            if (console) {\r\n                // eslint-disable-next-line no-console\r\n                console.error('Google maps API was not found in the page.');\r\n            }\r\n            return;\r\n        }\r\n        this.googleMaps = googleMaps;\r\n        this.autocompleteService = new googleMaps.places.AutocompleteService();\r\n        this.placesService = new googleMaps.places.PlacesService(document.createElement('div'));\r\n        this.sessionToken = new googleMaps.places.AutocompleteSessionToken();\r\n        this.geocoder = new googleMaps.Geocoder();\r\n    };\r\n    /**\r\n     * When the component will unmount\r\n     */\r\n    default_1.prototype.componentWillUnmount = function () {\r\n        clearTimeout(this.timer);\r\n    };\r\n    /**\r\n     * When the input changed\r\n     */\r\n    default_1.prototype.onInputChange = function (userInput) {\r\n        if (!userInput) {\r\n            if (this.props.onSuggestSelect) {\r\n                this.props.onSuggestSelect();\r\n            }\r\n        }\r\n        this.setState({ userInput: userInput }, this.onAfterInputChange);\r\n    };\r\n    /**\r\n     * On After the input got changed\r\n     */\r\n    default_1.prototype.onAfterInputChange = function () {\r\n        this.showSuggests();\r\n        if (this.props.onChange) {\r\n            this.props.onChange(this.state.userInput);\r\n        }\r\n    };\r\n    /**\r\n     * When the input gets focused\r\n     */\r\n    default_1.prototype.onInputFocus = function () {\r\n        if (this.props.onFocus) {\r\n            this.props.onFocus();\r\n        }\r\n        this.showSuggests();\r\n    };\r\n    /**\r\n     * When the input gets blurred\r\n     */\r\n    default_1.prototype.onInputBlur = function () {\r\n        if (!this.state.ignoreBlur) {\r\n            this.hideSuggests();\r\n        }\r\n    };\r\n    default_1.prototype.onNext = function () {\r\n        this.activateSuggest('next');\r\n    };\r\n    default_1.prototype.onPrev = function () {\r\n        this.activateSuggest('prev');\r\n    };\r\n    default_1.prototype.onSelect = function () {\r\n        this.selectSuggest(this.state.activeSuggest);\r\n    };\r\n    default_1.prototype.onSuggestMouseDown = function () {\r\n        this.setState({ ignoreBlur: true });\r\n    };\r\n    default_1.prototype.onSuggestMouseOut = function () {\r\n        this.setState({ ignoreBlur: false });\r\n    };\r\n    default_1.prototype.onSuggestNoResults = function () {\r\n        if (this.props.onSuggestNoResults) {\r\n            this.props.onSuggestNoResults(this.state.userInput);\r\n        }\r\n    };\r\n    /**\r\n     * Focus the input\r\n     */\r\n    default_1.prototype.focus = function () {\r\n        if (this.input) {\r\n            this.input.focus();\r\n        }\r\n    };\r\n    /**\r\n     * Blur the input\r\n     */\r\n    default_1.prototype.blur = function () {\r\n        if (this.input) {\r\n            this.input.blur();\r\n        }\r\n    };\r\n    /**\r\n     * Update the value of the user input\r\n     */\r\n    default_1.prototype.update = function (userInput) {\r\n        this.setState({ userInput: userInput });\r\n        if (this.props.onChange) {\r\n            this.props.onChange(userInput);\r\n        }\r\n    };\r\n    /*\r\n     * Clear the input and close the suggestion pane\r\n     */\r\n    default_1.prototype.clear = function () {\r\n        this.setState({ userInput: '' }, this.hideSuggests);\r\n    };\r\n    /**\r\n     * Search for new suggests\r\n     */\r\n    // eslint-disable-next-line complexity, max-statements\r\n    default_1.prototype.searchSuggests = function () {\r\n        var _this = this;\r\n        if (!this.state.userInput) {\r\n            this.updateSuggests();\r\n            return;\r\n        }\r\n        var options = {\r\n            input: this.state.userInput,\r\n            sessionToken: this.sessionToken\r\n        };\r\n        var inputLength = this.state.userInput.length;\r\n        var isShorterThanMinLength = this.props.minLength && inputLength < this.props.minLength;\r\n        if (isShorterThanMinLength) {\r\n            this.updateSuggests();\r\n            return;\r\n        }\r\n        var _a = this.props, location = _a.location, radius = _a.radius, bounds = _a.bounds, types = _a.types, country = _a.country;\r\n        /* eslint-disable curly */\r\n        if (location)\r\n            options.location = location;\r\n        if (radius)\r\n            options.radius = Number(this.props.radius);\r\n        if (bounds)\r\n            options.bounds = bounds;\r\n        if (types)\r\n            options.types = types;\r\n        if (country)\r\n            options.componentRestrictions = { country: country };\r\n        /* eslint-enable curly */\r\n        this.setState({ isLoading: true }, function () {\r\n            if (!_this.autocompleteService) {\r\n                _this.setState({ isLoading: false });\r\n                return;\r\n            }\r\n            _this.autocompleteService.getPlacePredictions(options, function (suggestsGoogle) {\r\n                _this.setState({ isLoading: false });\r\n                _this.updateSuggests(suggestsGoogle || [], // can be null\r\n                function () {\r\n                    if (_this.props.autoActivateFirstSuggest &&\r\n                        !_this.state.activeSuggest) {\r\n                        _this.activateSuggest('next');\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Update the suggests\r\n     */\r\n    default_1.prototype.updateSuggests = function (suggestsGoogle, \r\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type, @typescript-eslint/no-empty-function\r\n    callback) {\r\n        var _this = this;\r\n        if (suggestsGoogle === void 0) { suggestsGoogle = []; }\r\n        if (callback === void 0) { callback = function () { }; }\r\n        var suggests = [];\r\n        var userInput = this.state.userInput;\r\n        var _a = this.props, skipSuggest = _a.skipSuggest, maxFixtures = _a.maxFixtures, fixtures = _a.fixtures;\r\n        var regex = new RegExp(escapeRegExp(userInput), 'gim');\r\n        var fixturesSearched = 0;\r\n        var activeSuggest = null;\r\n        if (fixtures) {\r\n            fixtures.forEach(function (fixture) {\r\n                if (maxFixtures && fixturesSearched >= maxFixtures) {\r\n                    return;\r\n                }\r\n                if (skipSuggest &&\r\n                    !skipSuggest(fixture) &&\r\n                    fixture.label.match(regex)) {\r\n                    fixturesSearched++;\r\n                    suggests.push(__assign(__assign({}, fixture), { isFixture: true, matchedSubstrings: {\r\n                            length: userInput.length,\r\n                            offset: fixture.label.indexOf(userInput)\r\n                        }, placeId: fixture.placeId || fixture.label }));\r\n                }\r\n            });\r\n        }\r\n        suggestsGoogle.forEach(function (suggest) {\r\n            if (skipSuggest && !skipSuggest(suggest)) {\r\n                suggests.push({\r\n                    description: suggest.description,\r\n                    isFixture: false,\r\n                    label: _this.props.getSuggestLabel\r\n                        ? _this.props.getSuggestLabel(suggest)\r\n                        : '',\r\n                    matchedSubstrings: suggest.matched_substrings[0],\r\n                    placeId: suggest.place_id\r\n                });\r\n            }\r\n        });\r\n        activeSuggest = this.updateActiveSuggest(suggests);\r\n        if (this.props.onUpdateSuggests) {\r\n            this.props.onUpdateSuggests(suggests, activeSuggest);\r\n        }\r\n        this.setState({ suggests: suggests, activeSuggest: activeSuggest }, callback);\r\n    };\r\n    /**\r\n     * Return the new activeSuggest object after suggests have been updated\r\n     */\r\n    default_1.prototype.updateActiveSuggest = function (suggests) {\r\n        if (suggests === void 0) { suggests = []; }\r\n        var activeSuggest = this.state.activeSuggest;\r\n        if (activeSuggest) {\r\n            var newSuggest = suggests.filter(function (listedSuggest) {\r\n                return activeSuggest &&\r\n                    activeSuggest.placeId === listedSuggest.placeId &&\r\n                    activeSuggest.isFixture === listedSuggest.isFixture;\r\n            })[0];\r\n            activeSuggest = newSuggest || null;\r\n        }\r\n        return activeSuggest;\r\n    };\r\n    /**\r\n     * Show the suggestions\r\n     */\r\n    default_1.prototype.showSuggests = function () {\r\n        this.searchSuggests();\r\n        this.setState({ isSuggestsHidden: false });\r\n    };\r\n    /**\r\n     * Hide the suggestions\r\n     */\r\n    default_1.prototype.hideSuggests = function () {\r\n        var _this = this;\r\n        if (this.props.onBlur) {\r\n            this.props.onBlur(this.state.userInput);\r\n        }\r\n        this.timer = window.setTimeout(function () {\r\n            _this.setState({\r\n                activeSuggest: null,\r\n                isSuggestsHidden: true\r\n            });\r\n        }, 100);\r\n    };\r\n    /**\r\n     * Activate a new suggest\r\n     */\r\n    // eslint-disable-next-line complexity, max-statements\r\n    default_1.prototype.activateSuggest = function (direction) {\r\n        if (this.state.isSuggestsHidden) {\r\n            this.showSuggests();\r\n            return;\r\n        }\r\n        var suggestsCount = this.state.suggests.length - 1;\r\n        var next = direction === 'next';\r\n        var newActiveSuggest = null;\r\n        var newIndex = 0;\r\n        var i = 0;\r\n        for (i; i <= suggestsCount; i++) {\r\n            if (this.state.suggests[i] === this.state.activeSuggest) {\r\n                newIndex = next ? i + 1 : i - 1;\r\n            }\r\n        }\r\n        if (!this.state.activeSuggest) {\r\n            newIndex = next ? 0 : suggestsCount;\r\n        }\r\n        if (newIndex >= 0 && newIndex <= suggestsCount) {\r\n            newActiveSuggest = this.state.suggests[newIndex];\r\n        }\r\n        if (this.props.onActivateSuggest) {\r\n            this.props.onActivateSuggest(newActiveSuggest);\r\n        }\r\n        this.setState({ activeSuggest: newActiveSuggest });\r\n    };\r\n    /**\r\n     * When an item got selected\r\n     */\r\n    // eslint-disable-next-line complexity\r\n    default_1.prototype.selectSuggest = function (suggestToSelect) {\r\n        var suggest = suggestToSelect || {\r\n            isFixture: true,\r\n            label: this.state.userInput,\r\n            placeId: this.state.userInput\r\n        };\r\n        if (!suggestToSelect &&\r\n            this.props.autoActivateFirstSuggest &&\r\n            this.state.suggests.length > 0) {\r\n            suggest = this.state.suggests[0];\r\n        }\r\n        this.setState({\r\n            isSuggestsHidden: true,\r\n            userInput: typeof suggest.label !== 'object'\r\n                ? suggest.label\r\n                : suggest.description || ''\r\n        });\r\n        if (suggest.location) {\r\n            this.setState({ ignoreBlur: false });\r\n            if (this.props.onSuggestSelect) {\r\n                this.props.onSuggestSelect(suggest);\r\n            }\r\n            return;\r\n        }\r\n        this.geocodeSuggest(suggest);\r\n    };\r\n    /**\r\n     * Geocode a suggest\r\n     */\r\n    default_1.prototype.geocodeSuggest = function (suggestToGeocode) {\r\n        var _this = this;\r\n        if (!this.geocoder) {\r\n            return;\r\n        }\r\n        if (suggestToGeocode.placeId &&\r\n            !suggestToGeocode.isFixture &&\r\n            this.placesService) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            var options = {\r\n                placeId: suggestToGeocode.placeId,\r\n                sessionToken: this.sessionToken\r\n            };\r\n            if (this.props.placeDetailFields) {\r\n                options.fields = this.props.placeDetailFields;\r\n                options.fields.unshift('geometry');\r\n            }\r\n            this.placesService.getDetails(options, function (results, status) {\r\n                if (status === _this.googleMaps.places.PlacesServiceStatus.OK) {\r\n                    var gmaps = results;\r\n                    var location_1 = (gmaps.geometry &&\r\n                        gmaps.geometry.location);\r\n                    var suggest = __assign(__assign({}, suggestToGeocode), { gmaps: gmaps, location: {\r\n                            lat: location_1.lat(),\r\n                            lng: location_1.lng()\r\n                        } });\r\n                    _this.sessionToken = new google.maps.places.AutocompleteSessionToken();\r\n                    if (_this.props.onSuggestSelect) {\r\n                        _this.props.onSuggestSelect(suggest);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            var options = {\r\n                address: suggestToGeocode.label,\r\n                bounds: this.props.bounds,\r\n                componentRestrictions: this.props.country\r\n                    ? { country: this.props.country }\r\n                    : // eslint-disable-next-line no-undefined\r\n                        undefined,\r\n                location: this.props.location\r\n            };\r\n            this.geocoder.geocode(options, function (results, status) {\r\n                if (status === _this.googleMaps.GeocoderStatus.OK) {\r\n                    var gmaps = results[0];\r\n                    var location_2 = (gmaps.geometry &&\r\n                        gmaps.geometry.location);\r\n                    var suggest = __assign(__assign({}, suggestToGeocode), { gmaps: gmaps, location: {\r\n                            lat: location_2.lat(),\r\n                            lng: location_2.lng()\r\n                        } });\r\n                    if (_this.props.onSuggestSelect) {\r\n                        _this.props.onSuggestSelect(suggest);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Render the view\r\n     */\r\n    default_1.prototype.render = function () {\r\n        var _this = this;\r\n        var attributes = filterInputAttributes(this.props);\r\n        var classes = classnames('geosuggest', this.props.className, {\r\n            'geosuggest--loading': this.state.isLoading\r\n        });\r\n        var input = (createElement(Input, __assign({ className: this.props.inputClassName, ref: function (i) { return (_this.input = i); }, value: this.state.userInput, doNotSubmitOnEnter: !this.state.isSuggestsHidden, ignoreTab: this.props.ignoreTab, ignoreEnter: this.props.ignoreEnter, style: this.props.style && this.props.style.input, onChange: this.onInputChange, onFocus: this.onInputFocus, onBlur: this.onInputBlur, onKeyDown: this.props.onKeyDown, onKeyPress: this.props.onKeyPress, inputType: this.props.inputType, onNext: this.onNext, onPrev: this.onPrev, onSelect: this.onSelect, onEscape: this.hideSuggests, isSuggestsHidden: this.state.isSuggestsHidden, activeSuggest: this.state.activeSuggest, label: this.props.label, id: this.props.id, listId: this.listId }, attributes)));\r\n        var suggestionsList = (createElement(default_1$1, { isHidden: this.state.isSuggestsHidden, style: this.props.style && this.props.style.suggests, suggestItemStyle: this.props.style && this.props.style.suggestItem, userInput: this.state.userInput, isHighlightMatch: Boolean(this.props.highlightMatch), suggestsClassName: this.props.suggestsClassName, suggestItemClassName: this.props.suggestItemClassName, suggests: this.state.suggests, hiddenClassName: this.props.suggestsHiddenClassName, suggestItemActiveClassName: this.props.suggestItemActiveClassName, activeSuggest: this.state.activeSuggest, onSuggestNoResults: this.onSuggestNoResults, onSuggestMouseDown: this.onSuggestMouseDown, onSuggestMouseOut: this.onSuggestMouseOut, onSuggestSelect: this.selectSuggest, renderSuggestItem: this.props.renderSuggestItem, listId: this.listId }));\r\n        return (createElement(\"div\", { className: classes, id: this.props.id },\r\n            createElement(\"div\", { className: \"geosuggest__input-wrapper\" }, input),\r\n            createElement(\"div\", { className: \"geosuggest__suggests-wrapper\" }, suggestionsList)));\r\n    };\r\n    /**\r\n     * Default values for the properties\r\n     */\r\n    default_1.defaultProps = defaults;\r\n    return default_1;\r\n}(Component));\n\nexport default default_1$2;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}